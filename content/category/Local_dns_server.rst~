Local DNS server on NanoPi Neo2
###############################

:date: 2023-01-25 05:30
:tags: diy, cybersecurity, it, dns
:category: diy, cybersecurity, it, dns
:slug: Local DNS server on NanoPi Neo2
:authors: Klimenko/Tsikunkov Maxim Sergievich
:summary: Local DNS server on NanoPi Neo2

###############################

apt install bind9

/etc/bind/named.conf.options

acl "acl_trusted_transfer" {
	none;
};

acl "acl_trusted_clients" {
	127.0.0.0/8;        // localhost (RFC 3330) - Loopback-Device addresses    127.0.0.0 - 127.255.255.255
	192.168.0.0/16;     // Private Network (RFC 1918) - e. e. LAN              192.168.0.0 - 192.168.255.255
//	10.0.0.0/8;         // Private Network (RFC 1918) - e. g. VPN              10.0.0.0 - 10.255.255.255
};

options {
	directory "/var/cache/bind";

	forwarders {
		8.8.8.8;
		8.8.4.4;
		1.1.1.1;
		9.9.9.9;
                208.67.222.222;
                208.67.220.220;
	};

	allow-query {
		acl_trusted_clients;
	};

	allow-query-cache {
	        acl_trusted_clients;
	};

	allow-recursion {
	        acl_trusted_clients;
	};

        allow-transfer {
                none;
        };

	allow-update {
                none;
        };

	dnssec-validation yes;

        auth-nxdomain no;

	recursion yes;

        empty-zones-enable yes;

	listen-on-v6 { none; };

	listen-on { any; };
};
